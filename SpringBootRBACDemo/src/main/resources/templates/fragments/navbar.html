<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/extras/spring-security">
<body>

<nav th:fragment="navbar"
     class="navbar navbar-expand-lg navbar-dark bg-dark px-3 mb-4">

    <a class="navbar-brand" th:href="@{/}">RBAC Demo</a>

    <div class="navbar-nav">
        <a class="nav-link" th:href="@{/}">Home</a>
        <a class="nav-link" th:href="@{/products}">Products</a>
    </div>

    <div class="ms-auto d-flex align-items-center"
         sec:authorize="isAuthenticated()">

        <span class="text-light me-3">
            Logged in as <b sec:authentication="name"></b>
        </span>

        <form th:action="@{/logout}" method="post" class="mb-0">
            <input type="hidden"
                   th:name="${_csrf.parameterName}"
                   th:value="${_csrf.token}" />
            <button class="btn btn-outline-light btn-sm">
                Logout
            </button>
        </form>
    </div>
</nav>

</body>
</html>
